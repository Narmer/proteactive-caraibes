$(window).load(function() {
  $("#nav").sticky({
    topSpacing: 0
  });
  $(".slider-fixed").sticky({
    topSpacing: 0
  });
});

(function(e) {
  var t = {
    topSpacing: 0,
    bottomSpacing: 0,
    className: "is-sticky",
    wrapperClassName: "sticky-wrapper",
    center: !1,
    getWidthFrom: ""
  }, n = e(window), r = e(document), i = [], s = n.height(), o = function() {
    var t = n.scrollTop(), o = r.height(), u = o - s, a = t > u ? u - t : 0;
    for (var f = 0; f < i.length; f++) {
      var l = i[f], c = l.stickyWrapper.offset().top, h = c - l.topSpacing - a;
      if (t <= h) {
        if (l.currentTop !== null) {
          l.stickyElement.css("position", "").css("top", "").css("padding", "");
          l.stickyElement.parent().removeClass(l.className);
          l.currentTop = null;
        }
      } else {
        var p = o - l.stickyElement.outerHeight() - l.topSpacing - l.bottomSpacing - t - a;
        p < 0 ? p += l.topSpacing : p = l.topSpacing;
        if (l.currentTop != p) {
          l.stickyElement.css("position", "fixed").css("top", p).css("padding", "0");
          typeof l.getWidthFrom != "undefined" && l.stickyElement.css("width", e(l.getWidthFrom).width());
          l.stickyElement.parent().addClass(l.className);
          l.currentTop = p;
        }
      }
    }
  }, u = function() {
    s = n.height();
  }, a = {
    init: function(n) {
      var r = e.extend(t, n);
      return this.each(function() {
        var t = e(this);
        stickyId = t.attr("id");
        wrapper = e("<div></div>").attr("id", stickyId + "-sticky-wrapper").addClass(r.wrapperClassName);
        t.wrapAll(wrapper);
        r.center && t.parent().css({
          width: t.outerWidth(),
          marginLeft: "auto",
          marginRight: "auto"
        });
        t.css("float") == "right" && t.css({
          "float": "none"
        }).parent().css({
          "float": "right"
        });
        var n = t.parent();
        n.css("height", t.outerHeight());
        i.push({
          topSpacing: r.topSpacing,
          bottomSpacing: r.bottomSpacing,
          stickyElement: t,
          currentTop: null,
          stickyWrapper: n,
          className: r.className,
          getWidthFrom: r.getWidthFrom
        });
      });
    },
    update: o
  };
  if (window.addEventListener) {
    window.addEventListener("scroll", o, !1);
    window.addEventListener("resize", u, !1);
  } else if (window.attachEvent) {
    window.attachEvent("onscroll", o);
    window.attachEvent("onresize", u);
  }
  e.fn.sticky = function(t) {
    if (a[t]) return a[t].apply(this, Array.prototype.slice.call(arguments, 1));
    if (typeof t == "object" || !t) return a.init.apply(this, arguments);
    e.error("Method " + t + " does not exist on jQuery.sticky");
  };
  e(function() {
    setTimeout(o, 0);
  });
})(jQuery);

$(window).load(function() {
  var e, t = $("#top-menu"), n = t.outerHeight() + 15, r = t.find("a"), i = r.map(function() {
    var e = $($(this).attr("href"));
    if (e.length) return e;
  });
  r.click(function(e) {
    var t = $(this).attr("href"), r = t === "#" ? 0 : $(t).offset().top - n + 1;
    $("html, body").stop().animate({
      scrollTop: r
    }, 300);
    e.preventDefault();
  });
  $(window).scroll(function() {
    var t = $(this).scrollTop() + n, s = i.map(function() {
      if ($(this).offset().top < t) return this;
    });
    s = s[s.length - 1];
    var o = s && s.length ? s[0].id : "";
    if (e !== o) {
      e = o;
      r.parent().removeClass("active").end().filter("[href=#" + o + "]").parent().addClass("active");
    }
  });
});