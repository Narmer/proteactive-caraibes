(function(e) {
  e.fn.mobileMenu = function(t) {
    var n = {
      defaultText: "Navigate to...",
      className: "select-menu",
      subMenuClass: "sub-menu",
      subMenuDash: "&ndash;"
    }, r = e.extend(n, t), i = e(this);
    this.each(function() {
      i.find("ul").addClass(r.subMenuClass);
      e("<select />", {
        "class": r.className
      }).insertAfter(i);
      e("<option />", {
        value: "#",
        text: r.defaultText
      }).appendTo("." + r.className);
      i.find("a,.separator").each(function() {
        var t = e(this), n = t.text(), i = t.parents("." + r.subMenuClass), s = i.length, o;
        if (t.parents("ul").hasClass(r.subMenuClass)) {
          o = Array(s + 1).join(r.subMenuDash);
          n = o + n;
        }
        t.is("span") ? e("<optgroup />", {
          label: n
        }).appendTo("." + r.className) : e("<option />", {
          value: this.href,
          html: n,
          selected: this.href == window.location.href
        }).appendTo("." + r.className);
      });
      e("." + r.className).change(function() {
        var t = e(this).val();
        t !== "#" && (window.location.href = e(this).val());
      });
      e(".select-menu").show();
    });
    return this;
  };
})(jQuery);